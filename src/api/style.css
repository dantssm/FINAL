:root{
  --bg:#fff7f6;
  --accent-1:#cdf5ff;
  --accent-2:#ffe3dd;
  --card:#ffffff;
  --muted:#f5f5f5;
  --text:#333;
}

/* page layout */
html,body{
  height:100%;
  margin:0;
  font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Helvetica,Arial,sans-serif;
  background:var(--bg);
  color:var(--text);
}

/* history button fixed to top-left of viewport */
.history{
  position:fixed;
  top:18px;
  left:18px;
  display:inline-flex;
  align-items:center;
  gap:8px;
  padding:8px 12px;
  border-radius:999px;
  background:rgba(102,126,234,0.06);
  color:var(--accent-2);
  border:1px solid rgba(102,126,234,0.12);
  font-weight:600;
  font-size:13px;
  cursor:pointer;
  z-index:1000;
}
.history .dot{
  width:8px;
  height:8px;
  background:var(--accent-2);
  border-radius:50%;
}

/* main container centered */
.container{
  width:90%;
  max-width:900px;
  margin:80px auto 56px;
  background:var(--card);
  border-radius:16px;
  padding:32px;
  box-shadow:0 6px 22px rgba(20,20,50,0.06);
  border-bottom:1px solid rgba(0,0,0,0.06);
  position:relative;
}

/* header */
h1{
  margin:2px 0 18px;
  font-size:22px;
  text-align:center;
  color:var(--text);
}

/* search area */
.search-box{
  display:flex;
  gap:12px;
  margin-top:12px;
}

#searchInput{
  flex:1;
  padding:14px 16px;
  font-size:16px;
  border:2px solid #e9e6ef;
  border-radius:12px;
  outline:none;
  background:#fff;
  transition:all .22s ease;
}

#searchInput:focus{
  border-color:var(--accent-1);
  box-shadow:0 6px 18px rgba(102,126,234,0.08);
}

/* primary search button */
#searchBtn{
  height:44px;
  min-width:64px;
  padding:0 14px;
  border:none;
  border-radius:999px;
  background:linear-gradient(135deg,var(--accent-1),var(--accent-2));
  color:#fff;
  font-weight:700;
  cursor:pointer;
}

/* options area */
.options{
  display:flex;
  gap:18px;
  margin-top:12px;
  background:var(--muted);
  padding:12px;
  border-radius:12px;
  flex-wrap:wrap;
}

.option{
  display:flex;
  align-items:center;
  gap:8px;
  font-size:14px;
  color:#444;
}

select{
  padding:6px 8px;
  border-radius:6px;
  border:1px solid #e3e3e3;
  background:#fff;
  font-size:13px;
}

/* results */
#results{
  margin-top:18px;
}

/* individual result card */
.result-card{
  background:#fbfbfb;
  border-radius:10px;
  padding:14px;
  margin-bottom:14px;
  border:1px solid rgba(0,0,0,0.04);
}

/* assistant answer block */
.answer{
  background:#fff;
  padding:18px;
  border-radius:10px;
  margin-bottom:14px;
  border-left:4px solid var(--accent-1);
}

/* sources list and items */
.sources{
  margin-top:12px;
}

.source{
  background:#fff;
  padding:12px;
  margin:10px 0;
  border-radius:8px;
  border:1px solid #e0e0e0;
}

.source-title{
  font-weight:700;
  color:#333;
  margin-bottom:6px;
  font-size:14px;
}

.source-url{
  color:var(--accent-1);
  text-decoration:none;
  font-size:13px;
}

.source-snippet{
  color:#666;
  font-size:14px;
  margin-top:6px;
}

/* loading and spinner */
.loading{
  text-align:center;
  padding:28px 8px;
}

.spinner{
  width:40px;
  height:40px;
  border:4px solid #f3f3f3;
  border-top:4px solid var(--accent-1);
  border-radius:50%;
  animation:spin 1s linear infinite;
  margin:0 auto;
}

@keyframes spin{
  from{transform:rotate(0deg)}
  to{transform:rotate(360deg)}
}

/* error message */
.error{
  background:#fff5f5;
  color:#b30000;
  padding:12px;
  border-radius:10px;
  margin:12px 0;
  border:1px solid rgba(179,0,0,0.08);
}

/* responsive tweaks */
@media (max-width:560px){
  .container{padding:20px}
  .options{gap:10px}
  #searchBtn{padding:0 10px}
}

:root{
  --bg:#fff7f6;
  --accent-1:#cdf5ff;
  --accent-2:#ffe3dd;
  --card:#ffffff;
  --muted:#f5f5f5;
  --text:#333;
}

/* базова розмітка */
html,body{height:100%;margin:0;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Helvetica,Arial,sans-serif;background:var(--bg);color:var(--text)}

/* кнопка історії у верхньому лівому куточку */
.history{
  position:fixed;
  top:18px;
  left:18px;
  display:inline-flex;
  align-items:center;
  gap:8px;
  padding:8px 12px;
  border-radius:999px;
  background:rgba(102,126,234,0.06);
  color:var(--accent-2);
  border:1px solid rgba(102,126,234,0.12);
  font-weight:600;
  font-size:13px;
  cursor:pointer;
  z-index:1000;
}
.history .dot{width:8px;height:8px;background:var(--accent-2);border-radius:50%}

/* контейнер */
.container{width:90%;max-width:900px;margin:80px auto 56px;background:var(--card);border-radius:16px;padding:32px;box-shadow:0 6px 22px rgba(20,20,50,0.06);border-bottom:1px solid rgba(0,0,0,0.06);position:relative}

/* заголовок */
h1{margin:2px 0 18px;font-size:22px;text-align:center;color:var(--text)}

/* пошукова частина */
.search-box{display:flex;gap:12px;margin-top:12px;align-items:flex-end}

/* input: при введенні піднімається вгору */
#searchInput{
  flex:1;padding:14px 16px;font-size:16px;border:2px solid #e9e6ef;border-radius:12px;outline:none;background:#fff;transition:transform .18s ease,box-shadow .18s ease,padding .18s ease;
  transform-origin:center bottom;
}
#searchInput.expanded-up{
  transform:translateY(-12px) scale(1.01);
  box-shadow:0 10px 24px rgba(102,126,234,0.06);
  padding-top:18px;padding-bottom:12px;
}

/* компактна кнопка праворуч з хвилястою лінією і стрілкою */
#searchBtn{
  height:36px;
  min-width:44px;
  width:56px;
  padding:0 8px;
  border:none;
  border-radius:999px;
  background:linear-gradient(135deg,var(--accent-1),var(--accent-2));
  color:#fff;
  font-weight:700;
  cursor:pointer;
  display:inline-flex;
  align-items:center;
  justify-content:center;
  position:relative;
  transition:width .18s ease,transform .12s ease;
  overflow:visible;
}

/* коли відсутній текст — трохи ширше і з лейблом Go */
#searchBtn .btn-label{font-size:12px;line-height:1}

/* компактний стан коли користувач вводить текст (менше ширина) */
#searchBtn.compact{width:44px;padding:0}

/* хвилястий ефект під кнопкою (SVG як фон) */
#searchBtn::after{
  content:"";
  position:absolute;
  left:-8px;
  right:-8px;
  bottom:-10px;
  height:10px;
  background:url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="200" height="10" viewBox="0 0 200 10"><path d="M0 5 Q25 1 50 5 T100 5 T150 5 T200 5" stroke="%23ffffff" stroke-opacity="0.12" stroke-width="1" fill="none"/></svg>') repeat-x;
  pointer-events:none;
  border-radius:10px;
}

/* стрілка у кнопці */
#searchBtn .arrow{
  width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:7px solid rgba(255,255,255,0.95);
  display:inline-block;margin-left:4px;transform-origin:center;transition:transform .18s ease,opacity .18s ease;opacity:0;transform:translateY(-6px) rotate(180deg);
}

/* при ховері стрілка йде вниз (обертається на 180deg та з'являється) */
#searchBtn:hover .arrow{opacity:1;transform:translateY(0) rotate(0deg)}

/* опції, результати та інші стилі без змін логіки */
.options{display:flex;gap:18px;margin-top:12px;background:var(--muted);padding:12px;border-radius:12px;flex-wrap:wrap}
.option{display:flex;align-items:center;gap:8px;font-size:14px;color:#444}
select{padding:6px 8px;border-radius:6px;border:1px solid #e3e3e3;background:#fff;font-size:13px}
#results{margin-top:18px}
.result-card{background:#fbfbfb;border-radius:10px;padding:14px;margin-bottom:14px;border:1px solid rgba(0,0,0,0.04)}
.answer{background:#fff;padding:18px;border-radius:10px;margin-bottom:14px;border-left:4px solid var(--accent-1)}
.sources{margin-top:12px}
.source{background:#fff;padding:12px;margin:10px 0;border-radius:8px;border:1px solid #e0e0e0}
.source-title{font-weight:700;color:#333;margin-bottom:6px;font-size:14px}
.source-url{color:var(--accent-1);text-decoration:none;font-size:13px}
.source-snippet{color:#666;font-size:14px;margin-top:6px}
.loading{text-align:center;padding:28px 8px}
.spinner{width:40px;height:40px;border:4px solid #f3f3f3;border-top:4px solid var(--accent-1);border-radius:50%;animation:spin 1s linear infinite;margin:0 auto}
@keyframes spin{from{transform:rotate(0deg)}to{transform:rotate(360deg)}}
.error{background:#fff5f5;color:#b30000;padding:12px;border-radius:10px;margin:12px 0;border:1px solid rgba(179,0,0,0.08)}

/* відповідає за адаптив */
@media (max-width:560px){
  .container{padding:20px}
  .options{gap:10px}
  #searchBtn{width:48px}
}

/* tooltip для кнопки історії */
.history-tooltip {
  position: absolute;
  top: 110%;
  left: 0;
  background: #fff;
  color: #333;
  padding: 8px 12px;
  border-radius: 8px;
  box-shadow: 0 4px 12px rgba(0,0,0,0.08);
  font-size: 13px;
  white-space: nowrap;
  opacity: 0;
  pointer-events: none;
  transition: opacity 0.2s ease, transform 0.2s ease;
  transform: translateY(4px);
  z-index: 999;
}

/* показ при наведенні */
.history:hover .history-tooltip {
  opacity: 1;
  pointer-events: auto;
  transform: translateY(0);
}

.answer {
  background: #fff;
  padding: 18px;
  border-radius: 10px;
  margin-bottom: 14px;
  border-left: 4px solid var(--accent-1);
}
